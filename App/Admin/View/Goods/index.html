<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>基础表格</title>
<link rel="stylesheet" href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css">
<link rel="stylesheet" href="__PUBLIC__/Admin/style/style_course.css">
<style>
  thead > tr >th {
    text-align: center;
  }
  .timepart input{
    display: inline;
  }

</style>
</head>

<body>
<form>
<div style="overflow: hidden;">
  <select class="form-control" style="width: 20%">
    <option value="菜鸟课程">菜鸟课程</option>
    <option value="入门课程">入门课程</option>
    <option value="中级课程">中级课程</option>
    <option value="高级课程">高级课程</option>
  </select>
</div>

<table class="table table-bordered" style="text-align: center;">

   <thead style="text-align: center;">
     <tr>
       <th style="width: 20%">部分</th>
       <th style="width: 20%">时间</th>
       <th style="width: 20%">大纲</th>
       <th style="width: 20%">内容</th>
       <th style="width: 20%">方式</th>       
     </tr>
   </thead>
   <tbody>
     <tr style="height: 200px;" name="group_1">
  
        
       <td>表格单元格</td>
       <td>


       <div class="expend timepart">


       <!--以下是时间修改表单-->



         上午 <input type="text" class="form-control  input-sm" style="width:15%" name="AM_C">：<input name="AM_M" class="form-control input-sm" type="text" style="width: 15%"> <br> 
         中午 <input type="text" class="form-control  input-sm" style="width:15%" name="AF_C">：<input name="AF_M" class="form-control input-sm" type="text" style="width: 15%"> <br>
         下午 <input type="text" class="form-control  input-sm" style="width:15%" name="PM_C">：<input name="PM_M" class="form-control input-sm" type="text" style="width: 15%"> <br>



       </div>      
       </td>
       <td><textarea class="form-control outline" rows="8"  placeholder="请输入大纲"></textarea></td>
       <td style="position: relative;">

       <div class="expend content" >
       <!--以下为内容修改表单-->

       <ol>
         <li> <input type="text" name="1_content_1" class=" form-control  input-sm contentinput" style="width:100% "> </li>

      </ol>
         <input id="addcontent" class="btn btn-default center-block addcontent" value="增加" style="margin-top:80px; ">
     
       </div> 
       </td>
       <td><textarea class="form-control method" rows="8"  placeholder="请输入方式"></textarea></td>

     </tr>

   </tbody>

 </table>
 </form>
<div style="height: 50px;float: left;overflow: hidden;position: relative;left: 50%;margin-left: -112px">
  <button class="btn btn-default " id="add">添加新的部分</button>
  <button type="submit" class="btn btn-default" id="del">提交</button>
</div>

<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script>
var i;

$(".addcontent").click(function(){
  var groupname=$(this).parents("tr").attr("name");
  var pre=groupname.split("_")[1];
  i=1+parseInt($(this).parents("div").find("ol input:last").attr("name").split("_")[2]);
  var newname=pre+"_content_"+i;
  var clone=$(".content ol li:first").clone();
  clone.find("input").attr("name",newname);
  $(this).parent().find("ol").append(clone);
  i++;
})




  $("#add").click(function(){

    var clone=$("tbody > tr:first").clone(true);
    var group=(1+parseInt($("tbody tr:last").attr("name").split("_")[1]));
    var newgroup="group_"+group;
    clone.find("input").not(".contentinput").attr("name",function(index,value){
      value=group+"_"+value;
      return value;
    })
    clone.attr("name",newgroup);

    

    $("tbody").append(clone);
    group++;

  });
</script>

</body>
